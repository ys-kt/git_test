~function(t){var e,r,n,a,i,u,l,o,c,s,d,f,h=[];e={email:function(t){return/^(?:[a-z0-9]+[_\-+.]?)*[a-z0-9]+@(?:([a-z0-9]+-?)*[a-z0-9]+.)+([a-z]{2,})+$/i.test(t)},date:function(t){var e,r,n=/^([1-2]\d{3})([-\/.])?(1[0-2]|0?[1-9])([-\/.])?([1-2]\d|3[01]|0?[1-9])$/;return!!n.test(t)&&(e=n.exec(t),year=+e[1],month=+e[3]-1,day=+e[5],r=new Date(year,month,day),year===r.getFullYear()&&month===r.getMonth()&&day===r.getDate())},mobile:function(t){return/^1[3-9]\d{9}$/.test(t)},tel:function(t){return/^(?:(?:0\d{2,3}[- ]?[1-9]\d{6,7})|(?:[48]00[- ]?[1-9]\d{6}))$/.test(t)},number:function(t){var e=+this.$item.attr("min"),r=+this.$item.attr("max"),n=/^\-?(?:[1-9]\d*|0)(?:[.]\d)?$/.test(t),t=+t,a=+this.$item.attr("step");return isNaN(e)&&(e=t-1),isNaN(r)&&(r=t+1),n&&(isNaN(a)||0>=a?t>=e&&t<=r:0===(t+e)%a&&t>=e&&t<=r)},range:function(t){return this.number(t)},price:function(t){var e="(0|([1-9][0-9]*))(\\.\\d+)?",r="[\\-_~—]";return new RegExp("^\\s*"+e+"("+r+"{1,2}"+e+")?\\s*$").test(t)||"面议"==t||""==t},url:function(t){var e,r="((https?|s?ftp|irc[6s]?|git|afp|telnet|smb):\\/\\/)?",n="([a-z0-9]\\w*(\\:[\\S]+)?\\@)?",a="([a-z0-9]([\\w]*[a-z0-9])*\\.)?[a-z0-9]\\w*\\.[a-z]{2,}(\\.[a-z]{2,})?",i="(:\\d{1,5})?",u="\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}\\.\\d{1,3}",l="(\\/\\S*)?",o=[r,n,a,i,l],c=[r,n,u,i,l];return e=function(e){return new RegExp("^"+e.join("")+"$","i").test(t)},e(o)||e(c)},password:function(t){return this.text(t)},checkbox:function(){return e._checker("checkbox")},radio:function(t){return e._checker("radio")},_checker:function(e){var r=this.$item.parents("form").eq(0),n="input:"+e+':checked[name="'+this.$item.attr("name")+'"]',a=t(n,r);return a.size()>0},text:function(t){var e=parseInt(this.$item.attr("maxlength"),10);return notEmpty=function(t){return!!t.length&&!/^\s+$/.test(t)},isNaN(e)?notEmpty(t):notEmpty(t)&&t.length<=e}},s=function(e,r,n){var a=e.data(),i=a.url,u=a.method||"get",l=a.key||"key",o=e.val(),c={};c[l]=o,t[u](i,c).success(function(t){var a=t?"IM VALIDED":"unvalid";return f.call(this,e,r,n,a)}).error(function(){})},d=function(e,r,n){var a="a"===e.data("aorb")?"b":"a",u=t("[data-aorb="+a+"]",e.parents("form").eq(0)),l=[e,r,n],o=[u,r,n],c=0;return c+=f.apply(this,l)?0:1,c+=f.apply(this,o)?0:1,c=c>0?(i.apply(this,l),i.apply(this,o),!1):f.apply(this,l.concat("unvalid"))},f=function(r,n,u,l){if(!r)return"DONT VALIDATE UNEXIST ELEMENT";var o,c,s,d,f;return o=r.attr("pattern"),o&&o.replace("\\","\\\\"),c=r.attr("type")||"text",c=e[c]?c:"text",s=t.trim(r.val()),f=r.data("event"),l=l?l:o?new RegExp(o).test(s)||"unvalid":e[c](s)||"unvalid",r.is("[required]")||r.is("[required]")||""!==r.val()||(l=""),"unvalid"===l&&i(r,n,u),/^(?:unvalid|empty)$/.test(l)?(d={$el:a.call(this,r,n,u,l),type:c,error:l},r.trigger("after:"+f,r),d):(i.call(this,r,n,u),r.trigger("after:"+f,r),!1)},r=function(e,r){return t(e,r)},validate=function(t,r,n){if(t.is(":visible")){var a,i,u,l,o,c;return e.$item=t,u=t.attr("type"),l=t.val()||"",a=t.data("url"),i=t.data("aorb"),c=t.data("event"),o=[t,r,n],c&&t.trigger("before:"+c,t),!t.attr("required")||/^(?:radio|checkbox)$/.test(u)||i||e.text(l)?i?d.apply(this,o):a?s.apply(this,o):f.call(this,t,r,n):f.call(this,t,r,n,"empty")}},o=function(e,r,n,a){var i;t.each(e,function(e,u){t(u).on(/^radio|checkbox/.test(u.type)||"SELECT"===u.tagName?"change":r,function(){(i=validate.call(this,t(this),n,a))&&h.push(i)})})},l=function(e,r,n,a){return!(!r||o.length)||(h=t.map(e,function(e){if(!e.getAttribute("disabled")){var r=validate.call(null,t(e),n,a);return r&&window.tracker?(tracker.evt("validator_evt",{id:r.$el[0].id,type:r.error,url:r.$el[0].baseURI}),r):void 0}}),!!o.length&&h)},c=function(e){var r,n;if(r=t.grep(h,function(t){return t.$el=e})[0])return n=t.inArray(r,h),h.splice(n,1),h},n=function(t,e){return t.data("parent")?t.closest(t.data("parent")):e?t.parent():t},a=function(t,e,r,a){return n(t,r).addClass(e+" "+a)},i=function(t,e,r){return c.call(this,t),n(t,r).removeClass(e+" unvaild empty")},u=function(t){return t.attr("novalidate")||t.attr("novalidate","true")},t.fn.validator=function(e){var n=this,e=e||{},a=e.identifie||"[required], [maxlength][type=text], textarea[maxlength]",c=e.error||"error",s=e.isErrorOnParent||!1,d=e.method||"blur",f=e.before||function(){return!0},p=e.after||function(){return!0},v=e.errorCallback||function(t){},m=r(a,n).add(r("[pattern]",n));u(n),d&&o.call(this,m,d,c,s),n.on("focusin",a,function(){i.call(this,t(this),"error unvalid empty",s)}),n.on("submit",function(t){return f.call(this,m),l.call(this,m,d,c,s),h.length?(t.preventDefault(),v.call(this,h)):p.call(this,t,m)&&!0})}}(jQuery);
//# sourceMappingURL=validator.1d066c49.js.map;
try{!function(t){function r(o){try{if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","__webpack_require__",6,10),i}}try{var e={};return r.m=t,r.c=e,r.d=function(t,e,o){try{r.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","anonymous function",37,34),n}},r.n=function(t){try{var e=t&&t.__esModule?function(){try{return t["default"]}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",50,12),r}}:function(){try{return t}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",51,12),r}};return r.d(e,"a",e),e}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",48,34),o}},r.o=function(t,r){try{return Object.prototype.hasOwnProperty.call(t,r)}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",57,34),e}},r.p="",r(r.s=158)}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",1,10),o}}({122:function(t,r,e){function o(t,r,e,o){try{var n=new XMLHttpRequest;n.open(t,r,!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.onreadystatechange=function(){try{if(4===n.readyState){var t=n.responseText;o&&o(t)}}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",94,26),r}},n.send(e||"")}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","_ajax",90,0),i}}try{r.__esModule=!0,r._ajax=o}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","_",69,7),n}},158:function(t,r,e){try{var o=e(159),n=e(160),i=e(161),a=e(162),c=e(163),u=e(164);void function(){try{window.Auth={login:o.login,mobile:n.mobile,"mobile-bind":i.mobileBind,verify:a.verify,recheck:c.recheck,password:u.password};var t=window.__authPage;t&&Auth[t]&&Auth[t]()}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",124,5),r}}()}catch(s){throw reportError(s,"/w/auth/index.684ef904.js","_",106,7),s}},159:function(t,r,e){function o(){try{var t={url:"/oz/mobileCode/",urlVoice:"/oz/voice/",mustVerifyVoice:!1,init:function(){try{this._getElem(),this._bind(),this._initInputCode()}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","anonymous function",166,8),t}},_getElem:function(){try{this.form=document.getElementById("validateform"),this.actBlock=document.querySelector("div.act"),this.linkForgotPassword=document.getElementById("forgot-password"),this.inputMobile=this.form.querySelector("input[name=mobile]")||this.form.querySelector("input[name=identity]"),this.inputCode=this.form.querySelector("input[name=code]")}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","anonymous function",171,12),t}},_getMobile:function(){try{var t=this.inputMobile.value||"";return t=t.trim()}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",179,14),r}},_checkMobile:function(t){try{return!!t&&gearbox.str.RE_MOBILE.test(t)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",184,16),r}},_bind:function(){try{var t=this;this.linkForgotPassword&&this.linkForgotPassword.addEventListener("click",function(){try{var r=t._getMobile();t._checkMobile(r)&&(this.href+=r)}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",192,54),e}},!1)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",188,9),r}},_initInputCode:function(){try{if(!this.inputCode)return!1;var t=this.verifyBox=document.createElement("div");t.className="verify-box",t.innerHTML=['<a class="link" href="#get-code">获取短信验证码</a>','<span style="display: none;"></span>'].join(""),this.actBlock.insertBefore(t,this.actBlock.firstChild),this.linkSendCode=t.querySelector("a"),this.msgSendCode=t.querySelector("span");var r=this;this.linkSendCode.addEventListener("click",function(t){try{t.preventDefault();var e=r._getMobile();r._checkMobile(e)?r.mustVerifyVoice?r._sendVoiceCode(e):r._sendSMSCode(e):alert("请先输入手机号！")}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",215,47),o}},!1)}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",204,18),e}},_sendSMSCode:function(t){try{var r="正在发送验证码...",e="验证码已发出，请注意接收短信。";this._showMsg(r);var o=this;(0,n._ajax)("GET",this.url+"?mobile="+t,null,function(r){try{"OK"===r?o._showMsg(e):"你需要语音验证"===r?(o.mustVerifyVoice=!0,alert("您需要语音验证。\n\n即将向您发送语音验证码..."),o._showLink("获取语音验证码"),o._sendVoiceCode(t)):(alert(r),o._showLink("重新获取短信验证码"))}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","anonymous function",235,67),n}})}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","anonymous function",230,16),i}},_sendVoiceCode:function(t){try{var r="正在发送语音验证码...",e="语音验证码已发出，请注意接听电话。";this._showMsg(r);var o=this;(0,n._ajax)("GET",this.urlVoice+"?mobile="+t,null,function(t){try{var r=JSON.parse(t)||{};if(0===r.error)o._showMsg(e);else{if(r.ext&&r.ext.redirectUrl)return void(confirm(r.message)&&(window.location.href=r.ext.redirectUrl));alert(r.message),o._showLink("重新获取语音验证码")}}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","anonymous function",262,72),n}})}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","anonymous function",257,18),i}},_showMsg:function(t){try{this.linkSendCode.style.display="none",this.msgSendCode.style.display="",this.msgSendCode.innerHTML=t}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",278,12),r}},_showLink:function(t){try{this.linkSendCode.innerHTML=t,this.linkSendCode.style.display="",this.msgSendCode.style.display="none",this.msgSendCode.innerHTML=""}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",283,13),r}}};t.init(),window.login=t}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","login",159,0),r}}try{r.__esModule=!0,r.login=o;var n=e(122)}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","_",149,7),i}},160:function(t,r,e){function o(){function t(){try{var t=c.val(),r=gearbox.str.RE_MOBILE.test(t);u.prop("disabled",!r)}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","updateSubmitButton",325,1),e}}function r(t){try{switch(t.status){case"valid":e();break;case"redirect":l&&(t.redirect_to=t.redirect_to.replace(/(\/\w+\/\w+)/,"$1/x")),window.location.href=t.redirect_to;break;case"invalid":o(t.error)}}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","responseHandler",356,1),r}}function e(){try{s[0].submit()}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","goNext",388,1),t}}function o(t){try{var r='<div class="alert-error"><p>{$message} [错误码: {$code}]</p><p>{$detail}</p></div>',e=a(r,t);w.html(e),h||n()}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","showMessage",398,1),o}}function n(){try{var t;!window.opera&&!document.mimeType&&document.all&&document.getElementById?t=document.body.offsetHeight+"px":document.getElementById&&(t=document.body.scrollHeight+"px"),parent.document.getElementById("user_auth_container").style.height=t}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","resizeModal",409,1),r}}function i(){try{w.html("")}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","clearMessage",419,1),t}}function a(t,r){try{return t.replace(/\{\$(\w+)\}/g,function(t,e){try{return r.hasOwnProperty(e)?r[e]:""}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",424,37),o}})}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","replaceWith",423,1),e}}try{var c=$(".mobile-number"),u=$(".auth-submit");t(),c.on("input keyup",t);var s=$("#authform, #validateform"),h=/\/m\//.test(window.location.href),d=(h?"/m/":"")+"/oz/validateMobile",l=/\/x/.test(window.location.href);s.on("submit",function(t){try{t.preventDefault(),i(),$.ajax({url:d,type:"POST",data:{mobile:c.val()},dataType:"json",success:r})}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",341,20),e}}),$("#agreement").on("change",function(){try{$(this).prop("checked")?t():u.prop("disabled",!0)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",376,30),r}});var w=$(".auth-message")}catch(p){throw reportError(p,"/w/auth/index.684ef904.js","mobile",310,0),p}}try{r.__esModule=!0,r.mobile=o}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","_",301,7),n}},161:function(t,r,e){function o(){function t(){try{var t=c.val(),r=gearbox.str.RE_MOBILE.test(t);u.prop("disabled",!r)}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","updateSubmitButton",458,1),e}}function r(t){try{switch(t.status){case"valid":e();break;case"redirect":l&&(t.redirect_to=t.redirect_to.replace(/(\/\w+\/\w+)/,"$1/x")),window.location.href=t.redirect_to;break;case"invalid":o(t)}}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","responseHandler",489,1),r}}function e(){try{s[0].submit()}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","goNext",521,1),t}}function o(t){try{var r='<div class="alert-error"><p>{$error}</p></div>',e=a(r,t),o=$(".alert-error");o.length>0?o.replaceWith(e):w.html(e),h||n()}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","showMessage",531,1),i}}function n(){try{var t;!window.opera&&!document.mimeType&&document.all&&document.getElementById?t=document.body.offsetHeight+"px":document.getElementById&&(t=document.body.scrollHeight+"px"),parent.document.getElementById("user_auth_container").style.height=t}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","resizeModal",544,1),r}}function i(){try{w.html("")}catch(t){throw reportError(t,"/w/auth/index.684ef904.js","clearMessage",554,1),t}}function a(t,r){try{return t.replace(/\{\$(\w+)\}/g,function(t,e){try{return r.hasOwnProperty(e)?r[e]:""}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",559,37),o}})}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","replaceWith",558,1),e}}try{var c=$(".mobile-number"),u=$(".auth-submit");t(),c.on("input keyup",t);var s=$("#authform, #validateform"),h=/\/m\//.test(window.location.href),d=(h?"/m":"")+"/oz/validateMobileBind",l=/\/x/.test(window.location.href);s.on("submit",function(t){try{t.preventDefault(),i(),$.ajax({url:d,type:"POST",data:{mobile:c.val()},dataType:"json",success:r})}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",474,20),e}}),$("#agreement").on("change",function(){try{$(this).prop("checked")?t():u.prop("disabled",!0)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",509,30),r}});var w=$(".auth-message")}catch(p){throw reportError(p,"/w/auth/index.684ef904.js","mobileBind",443,0),p}}try{r.__esModule=!0,r.mobileBind=o}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","_",433,7),n}},162:function(t,r,e){function o(){function t(){try{var t=document.querySelector(".voice-box"),r=document.querySelector("p.show-voice-box"),e=document.querySelector("p.send-voice-code a");if(!t)return!1;r.addEventListener("click",function(r){try{r.preventDefault(),t.style.display="block"}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",609,45),e}}),e.addEventListener("click",function(t){try{t.preventDefault();var r=this.dataset.mobile;this.parentNode.innerHTML="请耐心等待...",(0,n._ajax)("GET","/oz/voice/?mobile="+r,"",function(t){try{if(t=JSON.parse(t),!t)return;if(t.ext&&t.ext.redirectUrl)return void(confirm(t.message)&&(window.location.href=t.ext.redirectUrl));if(t.message&&""!=t.message)return void alert(t.message)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",618,64),r}})}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",614,46),e}})}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","initVoiceBox",601,1),o}}try{var r=window.__buttonText,e=document.querySelector("div.act button");e&&r&&(e.innerHTML=r);var o=document.querySelector("input[name=code]");o&&(o.setAttribute("pattern","[0-9]*"),o.setAttribute("autocomplete","off"));var i=document.querySelector("p.change-mobile a");i&&(i.href=location.pathname),t()}catch(a){throw reportError(a,"/w/auth/index.684ef904.js","verify",578,0),a}}try{r.__esModule=!0,r.verify=o;var n=e(122)}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","_",568,7),i}},163:function(t,r,e){function o(){function t(t){try{t||(t=window.event),t.preventDefault?t.preventDefault():t.returnValue=!1;var e=t.target||t.srcElement,o=document.getElementById("send-status");(0,n._ajax)("POST",e.getAttribute("data-url"),"",function(t){try{if(!t||""==t)return;if(t.indexOf("OK")!=-1)return;if(t.indexOf("S9Verify")!=-1){var r=e.getAttribute("data-mobile");return void(window.location.href="/oz/s9Page/x/?mobile="+r+"&redirect="+encodeURIComponent(window.location.href))}if(t.indexOf("error")!=-1){if(t=JSON.parse(t),!t)return;if(t.ext&&t.ext.redirectUrl)return void(confirm(t.message)&&(window.location.href=t.ext.redirectUrl));if(t.message&&""!=t.message)return void alert(t.message);return}alert(t)}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","anonymous function",664,63),o}});var i=function c(t){try{t>0?(o.innerHTML="没收到验证码？"+t+"秒后可重新发送",o.style.display="block",setTimeout(function(){try{c(t-1)}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",700,15),r}},1e3)):(o.style.display="none",e.style.display="block")}catch(r){throw reportError(r,"/w/auth/index.684ef904.js","anonymous function",695,25),r}};return e.style.display="none",r(e),i(60),!1}catch(a){throw reportError(a,"/w/auth/index.684ef904.js","onSend",656,1),a}}function r(t){try{var r=JSON.parse(t.getAttribute("data-channel-config")),e=(parseInt(t.getAttribute("data-index")||-1,10)+1)%r.length;t.setAttribute("data-index",e),t.setAttribute("data-url",r[e].url),t.innerHTML="点此获取"+r[e].name+"验证码"}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","initNextChannel",716,1),o}}try{for(var e=document.querySelectorAll(".send-code"),o=0,i=e.length;o<i;o++){var a=e[o];r(a),a.addEventListener?a.addEventListener("click",t):a.attachEvent&&a.attachEvent("onclick",t)}}catch(c){throw reportError(c,"/w/auth/index.684ef904.js","recheck",651,0),c}}try{r.__esModule=!0,r.recheck=o;var n=e(122)}catch(i){throw reportError(i,"/w/auth/index.684ef904.js","_",641,7),i}},164:function(t,r,e){function o(){try{var t=location.pathname.replace("/verify","/password"),r=document.getElementById("validateform");r.setAttribute("action",t);var e=document.getElementById("btn-skip-submit");e&&(e.onclick=function(t){try{t.preventDefault();var r=Cookie.read("_auth_redirect");r?window.location.href=r:window.location.href="/"}catch(e){throw reportError(e,"/w/auth/index.684ef904.js","anonymous function",766,20),e}})}catch(o){throw reportError(o,"/w/auth/index.684ef904.js","password",751,0),o}}try{r.__esModule=!0,r.password=o}catch(n){throw reportError(n,"/w/auth/index.684ef904.js","_",742,7),n}}})}catch(_e69){reportError(_e69,"/w/auth/index.684ef904.js","top-level code",1,0)}
//# sourceMappingURL=index.re.684ef904.js.map;
